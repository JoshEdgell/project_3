<!DOCTYPE html>
<html ng-app="DadJokes">
<head>
  <meta charset="utf-8">
  <title>Dad Humor</title>
  <!-- Angular -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
  <!-- JS -->
  <script src="/js/app.js"></script>
  <!--Fonts-->
  <link href="https://fonts.googleapis.com/css?family=Quicksand|Bangers" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!--CSS-->
  <link rel="stylesheet" href="/css/main.css" />
</head>
<body ng-controller="MainController as ctrl">
  <nav>
    <!-- Dad Image -->
    <img class="dad" src="{{ctrl.dadImage}}" ng-click="ctrl.randomDad();" alt="dad"/>
    <br>
    <div class="nav-text">
      <!-- GET A COUNT OF JOKES IN OUR JOKE MODEL -->
      <p id="joke-count">We have <b>{{ctrl.jokeCount}}</b> jokes to choose from!</p>
      <br><br>

      <!--RANDOM JOKE-->
      <button ng-click="ctrl.getRandomJoke();">Get Random Joke</button>
      <br><br>
      <!--SEARCH JOKES-->
      <form ng-submit="ctrl.searchJokes(searchBox)">
        <input type="text" ng-model="searchBox"></input>
        <button type="submit"><i class="fa fa-search" style="font-size: 14px;"></i></button>
      </form>

      <br><br>
      <!-- REGISTER NEW USER -->
      <a href="/users/register" class="button menu-button" ng-click="ctrl.randomDad();">New User</a></br>
      <!--  END OF 'REGISTER NEW USER' -->
      <!-- USER LOGIN -->
      <a href="/session/login" class="button menu-button" ng-click="ctrl.randomDad();">Login</a></br>
      <!-- END OF 'USER LOGIN'   -->
      <!-- USER LOGOUT -->
      <a href="/session/logout" class="button menu-button" ng-click="ctrl.randomDad();">Logout</a></br>
      <!-- END OF USER LOGOUT -->
      <!-- GO TO USER HOME -->
      <a href="/session/home" class="button menu-button" ng-click="ctrl.randomDad();">My Home</a></br>
      <!-- END OF USER HOME -->

      <!-- LIST OF ALL USERS -->
      <h4 class="user-list">All Users</h4>
      <ul style="padding: 0px; margin: 0px">
        <li class="user-list" ng-repeat="user in ctrl.allUsers"><a class="user-list" href="/users/{{user._id}}" ng-click="ctrl.randomDad();">{{user.firstName}} {{user.lastName}}</a></li>
      </ul>
      <!-- END OF LIST OF USERS -->



    </div>

  </nav>


  <div class="container">
    <h1 class="title">The Dad Joke Factory</h1>
    <p class="subtitle">The Mother of All Dad Joke Sites</p>
    <img src="/img/160526_Back-01.jpg" alt="background" class="main-img"/>


    <div class="joke-box">
      <div ng-if="ctrl.showJoke">
        {{ctrl.jokes.joke}}
        <i class="fa fa-star-o" title="Add to Favorites" ng-click="ctrl.addToFavorites(ctrl.jokes.id , ctrl.jokes.joke);" ng-if="ctrl.showEmpty"></i>
        <i class="fa fa-star" ng-if="ctrl.showStar"></i>
      </div>

      <div class="ctrl.showSearch">

        <ul><li ng-repeat="result in ctrl.searchResult track by $index">{{result.joke}}
          <i class="fa fa-star-o" title="Add to Favorites" ng-click="ctrl.addToFavorites(ctrl.jokes.id , ctrl.jokes.joke);" ng-if="ctrl.showEmpty"></i>
          <i class="fa fa-star" ng-if="ctrl.showStar"></i>
        </li></ul>
      </div>
    </div>



  </body>

  </html>
